(this["webpackJsonpparrot-friendship-society"]=this["webpackJsonpparrot-friendship-society"]||[]).push([[0],{29:function(e,a,t){e.exports=t.p+"static/media/birds.947bf8a9.svg"},30:function(e,a,t){e.exports=t.p+"static/media/404.200fa0f2.svg"},31:function(e,a,t){e.exports=t(65)},36:function(e,a,t){},37:function(e,a,t){},55:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(27),c=t.n(r),m=(t(36),t(37),t(5)),s=t(1),o=t(3),i=t(10),u=t.n(i),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"parrotToken",a=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return a?a[2]:null},f=function(){var e=p("parrotToken");return e?{Authorization:e}:{}};t(55);var _=function(){var e=Object(s.h)().path,a=Object(n.useState)([]),t=Object(o.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!1),_=Object(o.a)(i,2),E=_[0],d=_[1];return Object(n.useEffect)((function(){E||(u.a.get("http://localhost:3000/users",{headers:f()}).then((function(e){c(e.data)})),d(!0))}),[r,E,d,c]),l.a.createElement("div",{className:"friends"},l.a.createElement("ul",{className:"friends__list"},p()?r.map((function(a){return l.a.createElement("li",{className:"friend-preview",key:a._id},l.a.createElement(m.b,{to:"".concat(e,"/").concat(a.id)},l.a.createElement("img",{className:"friend-preview__image",src:a.profilePicDark,alt:""}),l.a.createElement("span",{className:"friend-preview__name"},a.name)))})):null))};t(61);var E=function(){var e=Object(s.g)().id,a=Object(s.f)(),t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],m=r[1],i=Object(n.useState)({}),p=Object(o.a)(i,2),_=p[0],E=p[1];return Object(n.useEffect)((function(){c||(u.a.get("http://localhost:3000/users/".concat(e),{headers:f()}).then((function(e){E(e.data)})),m(!0))}),[c,_,m,E]),l.a.createElement("div",{className:"friend"},l.a.createElement("div",{className:"friend__card"},l.a.createElement("img",{className:"friend__userpic",src:_.profilePicLight,alt:_.name}),l.a.createElement("div",{className:"friend__details"},l.a.createElement("h3",{className:"friend__name"},_.name),l.a.createElement("p",{className:"friend__location"},"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435: ",_.location),l.a.createElement("p",{className:"friend__quantity"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u043f\u043e\u043f\u0443\u0433\u0430\u0435\u0432: ",_.parrotsOwned&&_.parrotsOwned.length),l.a.createElement("p",{className:"friend__fav-quote"},'\u041b\u044e\u0431\u0438\u043c\u043e\u0435 \u0432\u044b\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u043d\u0438\u0435 \u043e \u043f\u0442\u0438\u0446\u0430\u0445: "',_.favBirdQuote,'"'))),l.a.createElement("button",{className:"button button_type_back",onClick:function(){return a.goBack()}}))},d=(t(62),t(29)),b=t.n(d);var h=function(){return l.a.createElement("div",{className:"dashboard"},l.a.createElement("img",{src:b.a,alt:""}))},N=(t(63),t(30)),v=t.n(N);var g=function(){return l.a.createElement("div",{className:"not-found"},l.a.createElement("h3",{className:"not-found__title"},l.a.createElement("span",null,"404")," - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),l.a.createElement("img",{className:"not-found__image",src:v.a,alt:""}),l.a.createElement("p",{className:"not-found__text"},"\u041e\u0439, \u0437\u0434\u0435\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"),l.a.createElement(m.b,{className:"button button_type_to-main",to:"/"},"\u041d\u0430\u0437\u0430\u0434"))},O=t(12),j=t(8);t(64);var y=function(){var e=Object(n.useState)({picture:"mary",parrotsOwned:[],tempValue:{name:"",toy:""}}),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(s.f)();return l.a.createElement("form",{className:"form",onChange:function(e){var a=Object(j.a)({},t),n=e.target,l=n.name,c=n.value;l.includes("parrot_")?a.tempValue[l.slice("parrot_".length)]=c:a[l]=c,r(a)}},l.a.createElement("label",{className:"form__label"},"\u0418\u043c\u044f \u0434\u0440\u0443\u0433\u0430",l.a.createElement("input",{type:"text",name:"name",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",l.a.createElement("input",{type:"text",name:"location",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u041b\u044e\u0431\u0438\u043c\u0430\u044f \u0446\u0438\u0442\u0430\u0442\u0430 \u043f\u0440\u043e \u043f\u043e\u043f\u0443\u0433\u043e\u0432",l.a.createElement("input",{type:"text",name:"favBirdQuote",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 1",l.a.createElement("input",{type:"radio",defaultChecked:!0,name:"picture",value:"mary",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 2",l.a.createElement("input",{type:"radio",name:"picture",value:"bill",className:"form__input"})),l.a.createElement("hr",{className:"form__divider"}),l.a.createElement("ul",null,t.parrotsOwned.map((function(e,a){return l.a.createElement("li",{key:e.name+a},e.name)}))),l.a.createElement("label",{className:"form__label"},"\u0418\u043c\u044f \u043f\u043e\u043f\u0443\u0433\u0430\u044f",l.a.createElement("input",{value:t.tempValue.name,type:"text",name:"parrot_name",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u0438\u0433\u0440\u0443\u0448\u0435\u043a \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e",l.a.createElement("input",{value:t.tempValue.toy,type:"text",name:"parrot_toy",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u0443\u0433\u0430\u044f",l.a.createElement("button",{name:"parrot_add",type:"button",onClick:function(){var e=Object(j.a)({},t),a={name:t.tempValue.name,favoriteToys:t.tempValue.toy.split(",")};e.parrotsOwned.push(a),e.tempValue={name:"",toy:""},r(e)}},"+")),l.a.createElement("hr",{className:"form__divider"}),l.a.createElement("label",{className:"form__label"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",l.a.createElement("button",{type:"button",onClick:function(){var e=t.picture,a=(t.tempValue,Object(O.a)(t,["picture","tempValue"])),n=Object(j.a)(Object(j.a)({},a),{},{profilePicDark:"/profile-images/".concat(e,"-dark.png"),profilePicLight:"/profile-images/".concat(e,"-light.png")});u.a.post("http://localhost:3000/users",n).then((function(e){c.push("/friends")}))}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))},k=function(e){return!e.password||!e.email||e.password!==e.passwordRepeat};var w=function(){var e=Object(n.useState)({picture:"mary",parrotsOwned:[],tempValue:{name:"",toy:""}}),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),m=Object(o.a)(c,2),s=m[0],i=m[1];return l.a.createElement("form",{className:"form",onChange:function(e){i("");var a=Object(j.a)({},t),n=e.target,l=n.name,c=n.value;a[l]=c,r(a)}},l.a.createElement("label",{className:"form__label"},"Email",l.a.createElement("input",{type:"text",name:"email",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"Password",l.a.createElement("input",{type:"password",name:"password",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"Password repeat",l.a.createElement("input",{type:"password",name:"passwordRepeat",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",l.a.createElement("button",{type:"button",disabled:k(t),onClick:function(){var e=t.picture,a=(t.tempValue,Object(O.a)(t,["picture","tempValue"])),n=Object(j.a)(Object(j.a)({},a),{},{profilePicDark:"/profile-images/".concat(e,"-dark.png"),profilePicLight:"/profile-images/".concat(e,"-light.png")});u.a.post("http://localhost:3000/register",n).then((function(e){console.log(e,"HERE IS RES FROMM SERVER")})).catch((function(e){i(e.response.data.message)}))}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),l.a.createElement("span",{className:"form__error"},s))};var x=function(){var e=Object(n.useState)({}),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),m=Object(o.a)(c,2),s=m[0],i=m[1];return l.a.createElement("form",{className:"form",onChange:function(e){var a=Object(j.a)({},t),n=e.target,l=n.name,c=n.value;a[l]=c,r(a),i("")}},l.a.createElement("label",{className:"form__label"},"Email",l.a.createElement("input",{type:"text",name:"email",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"Password",l.a.createElement("input",{type:"password",name:"password",className:"form__input"})),l.a.createElement("label",{className:"form__label"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",l.a.createElement("button",{type:"button",disabled:!t.password||!t.email,onClick:function(){var e=t.picture,a=(t.tempValue,Object(O.a)(t,["picture","tempValue"])),n=Object(j.a)(Object(j.a)({},a),{},{profilePicDark:"/profile-images/".concat(e,"-dark.png"),profilePicLight:"/profile-images/".concat(e,"-light.png")});u.a.post("http://localhost:3000/auth",n).then((function(e){e.data.token&&(document.cookie="parrotToken=".concat(e.data.token))})).catch((function(e){i(e.response.data.message)}))}},"\u0412\u043e\u0439\u0442\u0438")),l.a.createElement("span",{className:"form__error"},s))};var V=function(){return l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"header"},l.a.createElement(m.c,{to:"/",className:"header__logo"},"Parrot Friendship Society"),l.a.createElement("nav",{className:"menu"},l.a.createElement("ul",{className:"menu__list"},l.a.createElement("li",{className:"menu__list-item"},l.a.createElement(m.c,{className:"menu__link",to:"/friends"},"\u0414\u0440\u0443\u0437\u044c\u044f")),l.a.createElement("li",{className:"menu__list-item"},l.a.createElement(m.c,{className:"menu__link",to:"/create"},"\u041d\u043e\u0432\u044b\u0439 \u0434\u0440\u0443\u0433")),l.a.createElement("li",{className:"menu__list-item"},l.a.createElement(m.c,{className:"menu__link",to:"/register"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),l.a.createElement("li",{className:"menu__list-item"},l.a.createElement(m.c,{className:"menu__link",to:"/auth"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:["/","/index.html"]},l.a.createElement(h,null)),l.a.createElement(s.a,{exact:!0,path:"/friends"},l.a.createElement(_,null)),l.a.createElement(s.a,{path:"/friends/:id"},l.a.createElement(E,null)),l.a.createElement(s.a,{path:"/create"},l.a.createElement(y,null)),l.a.createElement(s.a,{path:"/register"},l.a.createElement(w,null)),l.a.createElement(s.a,{path:"/auth"},l.a.createElement(x,null)),l.a.createElement(s.a,{path:"*"},l.a.createElement(g,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.029fc6e5.chunk.js.map